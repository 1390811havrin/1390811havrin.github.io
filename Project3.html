<!DOCTYPE html>

<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <!-- The above 3 meta tags *must* come first in the head; any other head content must come *after* these tags -->
    <!-- Bootstrap CSS -->
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/css/bootstrap.min.css" integrity="sha384-1q8mTJOASx8j1Au+a5WDVnPi2lkFfwwEAa8hDDdjZlpLegxhjVME1fgjWPGmkzs7" crossorigin="anonymous">
	<!-- Optional theme -->
	<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/css/bootstrap-theme.min.css" integrity="sha384-fLW2N01lMqjakBkx3l/M9EahuwpSfeNvV63J5ezn3uZzapT0u7EYsXMjQV+0En5r" crossorigin="anonymous">
	<!--<link rel="stylesheet" href="css/styles.css">
    <!-- HTML5 shim and Respond.js for IE8 support of HTML5 elements and media queries -->
    <!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
    <!--[if lt IE 9]>
      <script src="https://oss.maxcdn.com/html5shiv/3.7.2/html5shiv.min.js"></script>
      <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
    <![endif]-->
	<title> Resume Form</title>
	 <style>
    /* Set height of the grid so .sidenav can be 100% (adjust if needed) */
    .row.content {height: 1100pxpx}

    /* Set gray background color and 100% height */
    .sidenav {
      background-color: #f1f1f1;
      height: 50%;
    }
    
    /* Set black background color, white text and some padding */
    footer {
      background-color: #555;
      color: white;
      padding: 15px;
    }
    
    /* On small screens, set height to 'auto' for sidenav and grid */
    @media screen and (max-width: 767px) {
      .sidenav {
        height: auto;
        padding: 15px;
      }
      .row.content {height: auto;} 
    }
  </style>
	</head>
<body>
<div class="container-fluid">
<div class="row content">
<div class="col-sm-3 sidenav">
<h4>Work Experiences</h4>
<pre id="r1" class ="nav nav-pills nav-stacked">
<hr>
</pre><br>
</div>

<div id="specDiv" class= col-sm-9>
<img src="http://thoughtsontruth.com/images/soa.jpg" alt="HTML5 Icon" style="width:1000px;height:512px;">
<h3>Personal Info.</h3>
<pre id="pi1"></pre>
</div>
</div>
<div class ="row content">
<div class="col-sm-3">
<h2>Skills and things</h2>
<pre id="sk1"></pre>
</div>
<div class="col-sm-9">
<h4>References</h4>
<hr>
<h5 id="datenTime"></h5>
<pre id = "w1" class="workExperience">References</pre>
<hr>
</div>
</div>
</div>

<form id="inputForm" role="form">
<div class="form-group">
						<label for="userNameTB" >Login </label>
						<!-- form-control class for inputs to take up the whole width of the screen
							and they are vertical (label above the input) for mobile devices -->
							<input type="password" name="userPasswordTB" class="form-control" id="userPasswordTB" placeholder="Password"/> 
					</div>	 
					
						<!-- all bootstrap buttons should have class btn and a button type -->
						<button type="button" id="loginButton" class="btn btn-default">
							<!-- a glyphicon is a scalable pic that can be used in controls. 
							always create an empty span with the glyphicon class and the desired pic (http://glyphicons.com/) -->
							<span class="glyphicon glyphicon-check"></span>
							Login 
						</button>	
					</div>
<div id="hidden1" style="display:none">

					<div class="form-group"> 
						<label for="userNameTB" >Work Experience Editor </label>
						<!-- form-control class for inputs to take up the whole width of the screen
							and they are vertical (label above the input) for mobile devices -->
							<textarea class="form-control" id="WEE" placeholder="Enter Your Edited Work Experiences Here!" rows="5" cols="100"></textarea>

					</div>	 

					<div class="form-group"> 
						<label for="userNameTB" >Enter your Edited reference here! </label>
						<!-- form-control class for inputs to take up the whole width of the screen
							 and they are vertical (label above the input) for mobile devices -->
						<textarea class="form-control" id="RETB" placeholder="Enter Your Edited References Here!" rows="5" cols="100"></textarea>
					</div>
					
					<div class="form-group"> 
						<label for="userNameTB" >Enter your Edited Personal Info here! </label>
						<!-- form-control class for inputs to take up the whole width of the screen
							 and they are vertical (label above the input) for mobile devices -->
						<textarea class="form-control" id="pIETB" placeholder="Enter Your Edited Personal Info Here!" rows="5" cols="100"></textarea>
					</div>	
										<div class="form-group"> 
						<label for="userNameTB" >Enter your Edited Skills Here! </label>
						<!-- form-control class for inputs to take up the whole width of the screen
							 and they are vertical (label above the input) for mobile devices -->
						<textarea class="form-control" id="sKETB" placeholder="Enter Your Edited Skills Here!" rows="5" cols="100"></textarea>
					</div>						
<div class="form-group">
						<!-- all bootstrap buttons should have class btn and a button type -->
						<button type="button" id="submitButton" class="btn btn-default">
							<!-- a glyphicon is a scalable pic that can be used in controls. 
							always create an empty span with the glyphicon class and the desired pic (http://glyphicons.com/) -->
							<span class="glyphicon glyphicon-refresh"></span>
							Display the Data 
						</button>	
					</div>
					</form>
</div>

    <!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.3/jquery.min.js"></script>

	    <!-- Latest compiled and minified JavaScript -->
	<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/js/bootstrap.min.js" integrity="sha384-0mSbJDEHialfmuBBQP6A4Qrprq5OVfW37PRR3j5ELqxss1yVqOtnepnHVP9aJ7xS" crossorigin="anonymous"></script>

	<!-- firebase library -->
	<script src="https://cdn.firebase.com/js/client/2.3.2/firebase.js"></script>
	
	<script>
	
	$(document).ready(function ()
	{
	var firebaseRef = new Firebase("https://resumeproject3.firebaseio.com/");
	firebaseRef.once("value",function(snapshot){
	/* reference firebase reference 1   */
	var rfr1;
	/* reference firebase work 1  */
	var rfw1;
	/* reference firebase personal 1  */
	var rfp1;
	/* reference firebase skill 1   */
	var rfsk1;
	/* reference firebase login  */
	var rfl1;
	/* work editor text box reference    */
	var wETBR;
	/* reference editor text box reference    */
	var rETBR;
	/* skill editor text box reference    */
	var sETBR;
	/* personal editor text box reference    */
	var pETBR;
	/* login editor text box reference */
	var lETBR;
	/*Loading data from database into website     */
	rfr1 = snapshot.child("r1").val();
	rfp1 = snapshot.child("pi1").val();
	rfsk1 = snapshot.child("sk1").val();
	rfl1 = snapshot.child("ps1").val();
	/*setting the variable rfr1 to the value of w1 */
	rfw1 = snapshot.child("w1").val();
	$("#pi1").text(rfp1);
	$("#sk1").text(rfsk1);
	$("#r1").text(rfr1);
	$("#w1").text(rfw1);
	/*dealing with buttons and event triggers  */
	var submitButton = document.querySelector("#submitButton");
	var loginButton = document.querySelector("#loginButton");
submitButton.addEventListener("click", display, false);
loginButton.addEventListener("click", login, false);
		function display(event){
		/* Here we obtain the text value from the work experience box and set a pointer to it? or a data address to it  */
		 wETBR = document.querySelector("#WEE").value;
		/*  here we set the reference editors text box's value to a variable  */
		 rETBR = document.querySelector("#RETB").value;
		/* here we get a reference to the reference editor DDL object    */
		/*var rEDDLR = document.querySelector("#REDDL"); */
		/* Here we get a reference to the selected index of the reference editors selected index  */
		/*var rEDDLRI = rEDDLR.selectedIndex(); */
		/* here we get a reference to the value of the reference editors selected id value */
		/*var refNum = rEDDLR.options[rEDDLRI].value; */
		pETBR = document.querySelector("#pIETB").value;
		sETBR = document.querySelector("#sKETB").value;
		

/* Setting r1 to yes   */
		firebaseRef.child('r1').set(wETBR);
		firebaseRef.child('w1').set(rETBR);
		firebaseRef.child('sk1').set(sETBR);
		firebaseRef.child('pi1').set(pETBR);
		/*setting the variable rfr1 to the value of r1 */
		rfr1 = snapshot.child("r1").val();
		/*setting the variable rfr1 to the value of w1 */
		rfw1 = snapshot.child("w1").val();
		rfp1 = snapshot.child("pi1").val();
		rfsk1 = snapshot.child("sk1").val();
		/*Setting the values by id */
		$("#r1").text(rfr1);
		$("#w1").text(rfw1);
		$("#pi1").text(rfp1);
		$("#sk1").text(rfsk1);
		
}
		


/* 1. Look up how to create a second button/event proc. <
   2. Set second event proc to be the updater for values from fire base to the page// resolved later<
   as you need to make this change because everytime you hit the button three things occur. 
   Text data is sent to a web server variable. That is then sent back and stored in a variable.
   That is then updated to the page. Therefore as it only updates when you hit the button it it does all three of these things each time.
   Thus a seperate button/event and  a seperate function is necessary to handle updating the page off of the variables.
   2a. Or you could just load with the dom the txts from the database thus seeing them and not having to hit update to see them. Problem solved<
   3.Finish the text Boxes for references and Work experiences.<
   3a. Done copy pasta<
   4.polish<
   5.Work on password protection.<
   5a.Go through firebase(will look into later perhaps for next proj )<
   5b.Use a compare value against a child of a piece of data in fire base. If value compare is true then unhide editing box if value compare is false then have editing box remain hidden.<
	6. Try 5b. To do this first we need to create a text box to take in our password. Then we need to Store the value of the text box in a variable. Then we need to query the firebase to receive the password upon login attempt. Then we need to write a function to handle the event of that button push. Then an if statement in that function to handle if password is true or if password is false. Then Set base state of text boxes to be hidden. then work out the kinks. Then admire.<
	7.polish<
	8.Final Revisions
	9.Thoughts
	9a. Add user creation on another page. Expand for multiple users and work through that.
	9b. Allow importing of certain text files to fill in the different parts as an alternative to typing.
	9c. Allow editing without full rewriting
	9d. Find a way to reference in the text boxes the text of the actual text box as a fill instead of Write edited reference here!
	9e. As I said thoughts for the next project proposal
    */
		function login(e){
		lETBR = document.querySelector("#userPasswordTB").value;
		var f = lETBR.valueOf();
		var c = rfl1.valueOf();
		if(  f == c ){
		document.getElementById('hidden1').style.display = 'inline';
		}
		else{
		document.getElementById('hidden1').style.display = 'inline';
		}
		}
		/*
		function hide(element) {
		element.style.display = 'none';
		}
		
		function show(element) {
		element.style.display = 'inline';
		}
		
*/


	/*
		$(".workExperience").each(function(){

			$(this).text(rfr1);
		});
*/
		/*var object = $("#r1");
		
		object.innerHTML = "1";


		console.log(object.text());*/
});
	});

	</script>
  </body>
</html>